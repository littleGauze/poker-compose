# 卡牌组合

该游戏为卡牌组合游戏，游戏一共使用4副牌（除去大小王）一共208张，以及少部分有特定功能的功能牌，游戏开始时给每个玩家发8张牌，玩家需要组合出最少两组相同数字的牌才能赢得比赛。

[TOC]

## 规则

- 玩家大于3个，最多4个

- 总共4副牌以及少部分功能牌

  - 普通牌：除去大小王，即（A,2,3,4,5,6,7,8,9,J,Q,K）52 * 4 = 208，区分 ♠️ ♥️ ♣️ ♦️
  - 功能牌：1抵4任意牌的功能牌 x 2张、1抵2的任意牌的功能牌 x 4张、可拾起上一家出的牌的功能牌 x 8张
  - A比K大、2比A大

- 游戏开始时，每个玩家发8张牌 

- 使用筛子roll点，点数最大的玩家开始摸一张牌并需要打出一张牌，接着按顺序摸牌和出牌。

- 下家可选择使用牌面数字大于或等于上家或者花色一样的牌换取上家的牌，或者摸一张牌再打出一张牌。

- 摸到功能牌

  - 1抵4功能牌：亮出功能牌，并打出4张普通牌

  - 1抵2功能牌：亮出功能牌，并打出2张普通牌

  - 可拾起任意牌的功能牌：打出任意牌，拾起上一家的牌

    > 功能牌都可以选择先不暴露，打一张普通牌，留着之后找机会打出相应数量的普通牌

- 如果底牌全部摸完，把打出的牌清洗后接着游戏

## 胜利条件

- 结束：3人赛1人胜出游戏结束，4人赛2人胜出游戏结束
- 基本：凑够两组相同数字，如：6666，8888，不区分花色
- 超额：达到基本胜利条件亮出牌组后可选择胜出，或者再摸5张牌，再出一张牌接着游戏。但是如果游戏结束还未凑满则凑出的组数将会被减掉1组来计算积分([具体请看积分计算规则](#积分计算规则))

## 积分计算规则

- 胜出组合数：玩家在游戏结束时，手里的成功组合数(相同数字的牌)

- 押注基数：游戏开始前，玩家可选择不同基数积分的游戏开始，如：2，5，10，20，50，100，由玩家任意输入

- ~~押注倍数：游戏开始之前，玩家可押注N倍押注基数的积分，输赢都将按照该基数来计算积分。~~

- 积分计算：

  - 贪心指数：如果达到基本胜出条件未及时终止游戏，导致游戏结束时还未凑齐多余组数，则计算胜出组合数直接减一，比如：两组胜出后继续加一组未凑齐，积分计算胜出组数为1(2 - 1) ，以此类推。

  - 基本倍数：以胜出玩家的组合数来计算。 $2^{c-1-m}$ (*c*为胜出的组合数, *m*为贪心指数)，如：2组胜出 $2^{2-1}$ = 2, 三组胜出 $2^{3-1}$ = 4, 四组胜出 $2^{4-1}$ = 8, 以此类推。

    > 如有贪心指数则为1，没有则为0

  - 超额倍数：如果组合中，每有一组组合是同花色同数字的，则总体倍速 = 基本倍速 x2，如：♠️6♠️6♠️6♠️6

  - 胜出系数：如果至少有一组胜出，则胜出系数为1，否则为0

  - 总积分数：总积分 = 押注基数 x 基本倍数 x 超额倍数 x 胜出系数

    > 如果没有超额倍数，则超额倍数视为1



## 积分输赢规则

- 按总积分数计算规则最终计算所得积分给每个积分比自己高的玩家支付相应积分差额的积分。如：

  - 玩家A最终积分为：2(押注基数) x 1($2^{1-1}$基本倍数) x 1(没有超额倍数) x 1(胜出系数) = 2
  - 玩家B最终积分为：2(押注基数) x 2($2^{2-1}$基本倍数) x 2(1 x 2 超额倍数)) x 1(胜出系数) = 8
  - 玩家C最终积分为：2(押注基数) x 2($2^{0-1}$基本倍数) x 1(没有超额倍数)) x 0(胜出系数) = 0

  所以：

  - 玩家C向玩家A支付2积分
  - 玩家C向玩家B支付8积分
  - 玩家A向玩家B支付6积分 ( 还亏了4积分 orz... )

  > 玩家A为最后的赢家